<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:h="http://xmlns.jcp.org/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
<h:head>

<title>Manufacturer Details Page</title>
	<f:metadata>
	  <f:event type="preRenderView" 
	      listener="#{garageController.loadManufacturers()}"/>
	</f:metadata>
<h:outputStylesheet library="css" name="stylesheet.css" />

</h:head>
<h:body>
	<h:form>
		<h:messages class="m-alert" globalOnly="true"></h:messages>
	</h:form>
	<h2>Manufacturer Details</h2>
	<h:dataTable value="#{garageController.manufacturers}" var="manu" headerClass="table-header" rowClasses="table-odd-row, table-even-row">
		<h:column>
			<f:facet name="header">Manufacturer Code</f:facet>
			#{manu.manuCode}
		</h:column>
		<h:column>
			<f:facet name="header">Manufacturer Name</f:facet>
			#{manu.manuName}
		</h:column>
		<h:column>
			<f:facet name="header">Manufacturer Details</f:facet>
			#{manu.manuDetails}
		</h:column>
		<h:column>
			<f:facet name="header">Action</f:facet>
			<h:form>
				<h:commandLink  value="Update" action="#{garageController.goToUpdates(manu.manuCode, manu.manuName, manu.manuDetails)}"><br /></h:commandLink>
				<h:commandLink  value="Delete" action="#{garageController.deleteManufacturer(manu.manuCode)}"
				 onclick="if (! confirm('Do you Really want to delete this manufacturer?')) return false">	 
				</h:commandLink>
			</h:form>
		</h:column>
	</h:dataTable><br />
	<h:form>	
		<h:commandButton value="Add Manufacturer" action="AddManufacturer"></h:commandButton><br />		
	</h:form>
	<h:outputLink value="Main_Menu.xhtml">Home</h:outputLink><br />
</h:body>
</html>